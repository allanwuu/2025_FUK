<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>2025 æ‡¶è±¬çš„ç¦å²¡ä¹‹æ—…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------------- å…¨åŸŸè¨­å®š ---------------- */
body {
  margin: 0;
  background: #fdfcff;
  font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
  color: #333;
}

/* ---------------- Tab åˆ‡æ›åˆ— ---------------- */
.tab-bar {
  display: flex;
  position: sticky;
  top: 0;
  background: white;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
  z-index: 10;
}

.tab-btn {
  flex: 1;
  text-align: center;
  padding: 10px 0;
  font-size: 15px;
  font-weight: 600;
  color: #666;
  border-bottom: 3px solid transparent;
  cursor: pointer;
}

.tab-btn.active {
  color: #ff6f9c;
  border-bottom: 3px solid #ff6f9c;
}

/* ---------------- å¡ç‰‡æ¨£å¼ï¼ˆå¯æ„›ç‰ˆï¼‰ ---------------- */
.card {
  background: white;
  margin: 14px;
  padding: 16px;
  border-radius: 18px;
  box-shadow: 0 4px 12px rgba(255, 180, 200, 0.25);
}

.card-title {
  font-size: 17px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 6px;
}

.card-sub {
  color: #666;
  font-size: 14px;
  margin: 4px 0 8px;
}

.status {
  padding: 2px 10px;
  border-radius: 12px;
  font-size: 12px;
  margin-left: auto;
  font-weight: bold;
}

.status-red { background: #ffdddd; color: #c00; }
.status-yellow { background: #fff2c2; color: #c98b00; }
.status-green { background: #d9ffd9; color: #0a8f00; }

/* ---------------- è¡Œç¨‹å…§å®¹ ---------------- */
.section-title {
  font-weight: bold;
  margin: 10px 0 6px;
  font-size: 15px;
}

.item {
  padding: 6px 0;
  font-size: 14px;
}

.time-label {
  display: inline-block;
  width: 3.8em;
  font-weight: 700;
  color: #ff6f9c;
}

.mapcode {
  font-size: 12px;
  color: #888;
}

.note {
  font-size: 12px;
  color: #666;
}

a {
  color: #3b82f6;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* ---------------- â­ æ–°å¢ï¼šè²»ç”¨è¿½è¹¤å™¨çš„æ¨£å¼ â­ ---------------- */
#expense-tracker {
    margin: 14px;
    padding: 16px;
    border: 1px solid #ff6f9c40; 
    border-radius: 18px;
    background-color: #ffeef2;
}

/* è¼¸å…¥è¡¨å–®ä½ˆå±€ */
.input-form {
    display: flex;
    flex-wrap: wrap; 
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
}

.input-form input {
    flex-grow: 1; 
    padding: 10px;
    border: 1px solid #ff6f9c80;
    border-radius: 4px;
    box-sizing: border-box;
    min-width: 100px; /* é˜²æ­¢åœ¨æ¥µå°è¢å¹•ä¸Šéåº¦æ“ å£“ */
}

/* è®“é‡‘é¡è¼¸å…¥æ¡†å’ŒæŒ‰éˆ•åœ¨æ‰‹æ©Ÿä¸Šå¯ä»¥æ’å…©è¡Œ */
#expense-date { order: 1; }
#expense-item { order: 2; }
#expense-amount { order: 3; }
.input-actions {
    order: 4;
    display: flex;
    gap: 10px;
    flex-grow: 1;
}
.input-actions button {
    flex: 1; /* è®“å…©å€‹æŒ‰éˆ•å¹³åˆ†ç©ºé–“ */
    min-width: 80px;
}


.input-form button {
    padding: 10px 15px;
    background-color: #ff6f9c; 
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s;
}

#add-expense-btn {
    background-color: #4CAF50; /* ç¶ è‰²ï¼šæ–°å¢ */
}
#save-expense-btn {
    background-color: #007bff; /* è—è‰²ï¼šå„²å­˜ä¿®æ”¹ */
    display: none; /* é è¨­éš±è—ï¼Œåªæœ‰åœ¨ç·¨è¼¯æ™‚æ‰é¡¯ç¤º */
}

/* è¡¨æ ¼æ¨£å¼ */
#expense-table {
    width: 100%;
    border-collapse: collapse;
}

#expense-table th, #expense-table td {
    border: 1px solid #ffd0e0;
    padding: 10px;
    text-align: left;
    font-size: 14px;
}
/* è®“è¡¨æ ¼å…§æ“ä½œæ¬„çš„æ–‡å­—å°ä¸€é» */
#expense-table td:last-child {
    white-space: nowrap; /* ä¸æ›è¡Œ */
}

#expense-table th {
    background-color: #ffdae4;
    font-weight: bold;
}

/* çªå‡ºç¸½è¨ˆ */
#expense-table tfoot strong {
    font-size: 1.2em;
    color: #c00; 
}

/* ç§»é™¤/ç·¨è¼¯æŒ‰éˆ•æ¨£å¼ */
#expense-body button {
    background-color: #f44336; /* ç§»é™¤ */
    color: white;
    border: none;
    padding: 5px 8px;
    cursor: pointer;
    border-radius: 3px;
    font-size: 12px;
    margin-right: 5px;
}
#expense-body button.edit-btn {
    background-color: #ff9800; /* ç·¨è¼¯ */
}
</style>
</head>

<body>

<div class="tab-bar">
  <div class="tab-btn active" data-page="prep">è¡Œå‰æº–å‚™</div>
  <div class="tab-btn" data-page="day1">Day 1</div>
  <div class="tab-btn" data-page="day2">Day 2</div>
  <div class="tab-btn" data-page="day3">Day 3</div>
  <div class="tab-btn" data-page="day4">Day 4</div>
  <div class="tab-btn" data-page="day5">Day 5</div>
  <div class="tab-btn" data-page="expense">è²»ç”¨ç´€éŒ„</div>
</div>

<div id="prep" class="page">
  <div class="card">
    <div class="card-title">ğŸ’¡å¿…è¦æ–‡ä»¶æº–å‚™</div>
    <div class="item">â€¢ è­·ç…§</div>
    <div class="item">â€¢ å°ç£é§•ç…§</div>
    <div class="item">â€¢ æ—¥æœ¬ç¿»è­¯é§•ç…§</div>
  </div>
  <div class="card">
    <div class="card-title">ğŸ“± è³¼è²· eSIM ç¶²å¡ 
      <span class="status status-red">å°šæœªè¨‚</span>
    </div>
    <div class="card-sub">éœ€æ±‚ï¼šåƒåˆ°é£½ eSIMãƒ»5 äººä»½</div>
    <div class="item">ğŸ’¡ å»ºè­°å‡ºç™¼å‰ä¸€å¤©æƒæ QR Code è¨­å®šã€‚</div>
  </div>
  <div class="card">
    <div class="card-title">ğŸ›‚ Visit Japan Web 
      <span class="status status-red">å°šæœªå¡«å¯«</span>
    </div>
    <div class="item">è«‹æ–¼å‡ºç™¼å‰å®Œæˆå…¥å¢ƒå¯©æŸ¥èˆ‡æµ·é—œç”³å ±ã€‚</div>
    <div class="item">ğŸ”—
      <a href="https://vjw-lp.digital.go.jp" target="_blank">å®˜æ–¹ç¶²ç«™ï¼ˆä¸­æ–‡ï¼‰</a>
    </div>
  </div>
  <div class="card">
    <div class="card-title">ğŸšŒ æ©Ÿå ´æ¥é€ï¼ˆå»ç¨‹ï¼‰
      <span class="status status-yellow">å¾…è¨‚</span>
    </div>
    <div class="item">é ç´„æ©Ÿå ´æ¥é€</div>
    <div class="item">â° å‡ºç™¼æ™‚é–“ï¼š2025/12/17 å‡Œæ™¨ 04:00</div>
    <div class="item">ğŸ  å®¶è£¡ â†’ æ¡ƒåœ’æ©Ÿå ´ T1</div>
  </div>
  <div class="card">
    <div class="card-title">âœˆ èˆªç­è³‡è¨Š
      <span class="status status-green">å·²ç¢ºèª</span>
    </div>
    <div class="section-title">å»ç¨‹ã€€æ¡ƒåœ’ â†’ ç¦å²¡ï¼ˆè™èˆª IT240ï¼‰</div>
    <div class="item"><span class="time-label">06:00</span> æ¡ƒåœ’åœ‹éš›æ©Ÿå ´ T1 å‡ºç™¼</div>
    <div class="item"><span class="time-label">10:20</span> æŠµé” ç¦å²¡åœ‹éš›æ©Ÿå ´</div>
    <div class="item">ğŸ§³ è¡Œæï¼š35kg</div>
    <div class="item">ğŸ’º åº§ä½ï¼š10Aã€10Bã€10D</div>
    <div class="section-title" style="margin-top:14px;">å›ç¨‹ã€€ç¦å²¡ â†’ æ¡ƒåœ’ï¼ˆè¯èˆª CI117ï¼‰</div>
    <div class="item"><span class="time-label">20:35</span> ç¦å²¡åœ‹éš›æ©Ÿå ´ T1 å‡ºç™¼</div>
    <div class="item"><span class="time-label">22:20</span> æŠµé” æ¡ƒåœ’åœ‹éš›æ©Ÿå ´ T2</div>
    <div class="item">ğŸ§³ è¡Œæï¼šæ¯äºº1ä»¶ 23kg å°å­©ä¹Ÿæœ‰ </div>
    <div class="item">ğŸ’º åº§ä½ï¼š48Jã€48K</div>
  </div>
</div>

<div id="day1" class="page" style="display:none;">
  </div>

<div id="day2" class="page" style="display:none;">
  </div>

<div id="day3" class="page" style="display:none;">
  </div>

<div id="day4" class="page" style="display:none;">
  </div>

<div id="day5" class="page" style="display:none;">
  </div>

<div id="expense" class="page" style="display:none;">
    <div id="expense-tracker">
        <h2>ğŸ’¸ æ”¯å‡ºè²»ç”¨ç´€éŒ„ (æ—¥åœ“)</h2>

        <div class="input-form">
            <input type="date" id="expense-date" value="2025-12-17">
            <input type="text" id="expense-item" placeholder="é …ç›® (ä¾‹å¦‚: è™èˆªæ©Ÿç¥¨ã€åˆé¤)" required>
            <input type="number" id="expense-amount" placeholder="é‡‘é¡ (æ—¥åœ“)" min="1" required>
            <input type="hidden" id="data-editing-id" value=""> 
            
            <div class="input-actions">
                <button id="add-expense-btn" onclick="addOrUpdateExpense()">æ–°å¢ç´€éŒ„</button>
                <button id="save-expense-btn" onclick="addOrUpdateExpense()">å„²å­˜ä¿®æ”¹</button>
            </div>
        </div>

        <table id="expense-table">
            <thead>
                <tr>
                    <th>æ—¥æœŸ</th>
                    <th style="width: 40%;">é …ç›®</th>
                    <th>é‡‘é¡ (æ—¥åœ“)</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="expense-body">
                </tbody>
            <tfoot>
                <tr>
                    <td colspan="2"><strong>ç¸½è¨ˆ</strong></td>
                    <td><strong id="total-amount">0</strong></td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        <p class="note" style="margin-top: 15px;">
            âœ… **è³‡æ–™å·²è‡ªå‹•ä¿å­˜ã€‚** è²»ç”¨ç´€éŒ„æœƒå„²å­˜åœ¨æ‚¨ç•¶å‰çš„ç€è¦½å™¨ä¸­ï¼Œé‡æ–°é–‹å•Ÿç¶²é ä¹Ÿä¸æœƒæ¶ˆå¤±ï¼
        </p>
    </div>
</div>

<script>
// å…¨åŸŸè®Šæ•¸ï¼šå„²å­˜æ‰€æœ‰è²»ç”¨ç´€éŒ„çš„é™£åˆ—
let expenses = []; 

// ===================================
// 1. LocalStorage ç›¸é—œå‡½å¼
// ===================================

// å°‡ expenses é™£åˆ—å„²å­˜åˆ° LocalStorage
function saveExpenses() {
    localStorage.setItem('fukuoka_expenses', JSON.stringify(expenses));
}

// å¾ LocalStorage è¼‰å…¥ expenses é™£åˆ—
function loadExpenses() {
    const savedData = localStorage.getItem('fukuoka_expenses');
    if (savedData) {
        // è§£æå„²å­˜çš„ JSON å­—ä¸²ï¼Œä¸¦æ›´æ–° expenses é™£åˆ—
        expenses = JSON.parse(savedData);
    }
    // é‡æ–°ç¹ªè£½è¡¨æ ¼
    renderExpenses();
}

// ===================================
// 2. è²»ç”¨è¿½è¹¤å™¨ä¸»è¦åŠŸèƒ½
// ===================================

// æ–°å¢æˆ–æ›´æ–°ç´€éŒ„ (å–ä»£åŸæœ¬çš„ addExpense)
function addOrUpdateExpense() {
    const date = document.getElementById('expense-date').value;
    const item = document.getElementById('expense-item').value.trim();
    const amount = parseFloat(document.getElementById('expense-amount').value);
    const editingId = document.getElementById('data-editing-id').value;

    // åŸºç¤æª¢æŸ¥
    if (!date || !item || isNaN(amount) || amount <= 0) {
        alert("è«‹æª¢æŸ¥ï¼šæ—¥æœŸã€é …ç›®ã€é‡‘é¡å¿…é ˆå¡«å¯«ï¼Œä¸”é‡‘é¡éœ€å¤§æ–¼ 0ã€‚");
        return; 
    }

    if (editingId) {
        // åŸ·è¡Œä¿®æ”¹æ“ä½œ
        const index = expenses.findIndex(exp => exp.id === editingId);
        if (index > -1) {
            expenses[index].date = date;
            expenses[index].item = item;
            expenses[index].amount = amount;
        }
        // æ¸…é™¤ç·¨è¼¯ç‹€æ…‹
        clearEditMode();
    } else {
        // åŸ·è¡Œæ–°å¢æ“ä½œ
        const newExpense = {
            // ä½¿ç”¨æ™‚é–“æˆ³è¨˜ç”Ÿæˆä¸€å€‹å”¯ä¸€çš„ID (ç”¨æ–¼ç·¨è¼¯/åˆªé™¤)
            id: Date.now().toString(), 
            date,
            item,
            amount,
        };
        expenses.push(newExpense);
    }

    // å„²å­˜è³‡æ–™ä¸¦é‡æ–°ç¹ªè£½
    saveExpenses();
    renderExpenses(); 

    // æ¸…ç©ºè¼¸å…¥æ¬„ä½ï¼Œæº–å‚™ä¸‹æ¬¡è¼¸å…¥
    document.getElementById('expense-item').value = '';
    document.getElementById('expense-amount').value = '';
    document.getElementById('expense-item').focus();
}

// åˆªé™¤ç´€éŒ„
function deleteExpense(id) {
    if (!confirm("ç¢ºå®šè¦åˆªé™¤é€™ç­†è²»ç”¨ç´€éŒ„å—ï¼Ÿ")) return;

    // å¾é™£åˆ—ä¸­ç§»é™¤è©²ç­†ç´€éŒ„
    expenses = expenses.filter(exp => exp.id !== id);
    
    // å„²å­˜è³‡æ–™ä¸¦é‡æ–°ç¹ªè£½
    saveExpenses();
    renderExpenses();
    
    // å¦‚æœåˆªé™¤çš„ç´€éŒ„æ˜¯æ­£åœ¨ç·¨è¼¯çš„ï¼Œå‰‡æ¸…é™¤ç·¨è¼¯æ¨¡å¼
    if (document.getElementById('data-editing-id').value === id) {
        clearEditMode();
    }
}

// é€²å…¥ç·¨è¼¯æ¨¡å¼
function editExpense(id) {
    const expenseToEdit = expenses.find(exp => exp.id === id);
    if (!expenseToEdit) return;

    // 1. å°‡è³‡æ–™å¡«å…¥è¼¸å…¥æ¡†
    document.getElementById('expense-date').value = expenseToEdit.date;
    document.getElementById('expense-item').value = expenseToEdit.item;
    document.getElementById('expense-amount').value = expenseToEdit.amount;
    
    // 2. å„²å­˜æ­£åœ¨ç·¨è¼¯çš„ ID
    document.getElementById('data-editing-id').value = id;

    // 3. åˆ‡æ›æŒ‰éˆ•é¡¯ç¤ºï¼šéš±è—ã€Œæ–°å¢ã€ï¼Œé¡¯ç¤ºã€Œå„²å­˜ä¿®æ”¹ã€
    document.getElementById('add-expense-btn').style.display = 'none';
    document.getElementById('save-expense-btn').style.display = 'inline-block';
    
    document.getElementById('expense-item').focus();
}

// æ¸…é™¤ç·¨è¼¯æ¨¡å¼ç‹€æ…‹
function clearEditMode() {
    document.getElementById('data-editing-id').value = '';
    document.getElementById('add-expense-btn').style.display = 'inline-block';
    document.getElementById('save-expense-btn').style.display = 'none';
    
    // æ¸…ç©ºè¼¸å…¥æ¡†
    document.getElementById('expense-item').value = '';
    document.getElementById('expense-amount').value = '';
}

// é‡æ–°ç¹ªè£½æ•´å€‹è¡¨æ ¼
function renderExpenses() {
    const expenseBody = document.getElementById('expense-body');
    expenseBody.innerHTML = ''; // æ¸…ç©ºè¡¨æ ¼å…§å®¹
    let total = 0;

    // éæ­·æ‰€æœ‰è²»ç”¨ç´€éŒ„
    expenses.forEach(exp => {
        const newRow = expenseBody.insertRow();
        
        newRow.insertCell(0).textContent = exp.date;
        newRow.insertCell(1).textContent = exp.item;
        
        const amountCell = newRow.insertCell(2);
        amountCell.textContent = exp.amount.toLocaleString('en-US'); 
        
        // è¨ˆç®—ç¸½å’Œ
        total += exp.amount;

        // æ“ä½œæ¬„ä½ (ç·¨è¼¯å’Œåˆªé™¤æŒ‰éˆ•)
        const actionCell = newRow.insertCell(3);
        
        const editButton = document.createElement('button');
        editButton.textContent = 'ç·¨è¼¯';
        editButton.className = 'edit-btn';
        // å°‡è©²ç­†ç´€éŒ„çš„IDå‚³å…¥ editExpense å‡½å¼
        editButton.onclick = () => editExpense(exp.id); 
        actionCell.appendChild(editButton);

        const deleteButton = document.createElement('button');
        deleteButton.textContent = 'åˆªé™¤';
        // å°‡è©²ç­†ç´€éŒ„çš„IDå‚³å…¥ deleteExpense å‡½å¼
        deleteButton.onclick = () => deleteExpense(exp.id); 
        actionCell.appendChild(deleteButton);
    });

    // æ›´æ–°é é¢ä¸Šçš„ç¸½è¨ˆé‡‘é¡
    document.getElementById('total-amount').textContent = total.toLocaleString('en-US');
}


// ===================================
// 3. Tab å’Œåˆå§‹åŒ–
// ===================================

document.addEventListener('DOMContentLoaded', () => {
    // è¼‰å…¥å„²å­˜çš„è²»ç”¨ç´€éŒ„
    loadExpenses(); 
    
    // Tab åˆ‡æ›åŠŸèƒ½
    document.querySelectorAll(".tab-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        document.querySelectorAll(".page").forEach(p => p.style.display = "none");
        document.getElementById(btn.dataset.page).style.display = "block";
      });
    });
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>2025æ‡¶è±¬çš„ç¦å²¡ä¹‹æ—… - è²»ç”¨ç´€éŒ„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ---------------- å…¨åŸŸè¨­å®š ---------------- */
body {
  margin: 0;
  background: #fdfcff;
  font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
  color: #333;
}

/* ---------------- Tab åˆ‡æ›åˆ— ---------------- */
.tab-bar {
  display: flex;
  position: sticky;
  top: 0;
  background: white;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
  z-index: 10;
}

.tab-btn {
  flex: 1;
  text-align: center;
  padding: 10px 0;
  font-size: 15px;
  font-weight: 600;
  color: #666;
  border-bottom: 3px solid transparent;
  cursor: pointer; /* è®“Tabçœ‹èµ·ä¾†å¯é»æ“Š */
}

.tab-btn.active {
  color: #ff6f9c;
  border-bottom: 3px solid #ff6f9c;
}

/* ---------------- å¡ç‰‡æ¨£å¼ï¼ˆå¯æ„›ç‰ˆï¼‰ ---------------- */
.card {
  background: white;
  margin: 14px;
  padding: 16px;
  border-radius: 18px;
  box-shadow: 0 4px 12px rgba(255, 180, 200, 0.25);
}

.card-title {
  font-size: 17px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 6px;
}

.card-sub {
  color: #666;
  font-size: 14px;
  margin: 4px 0 8px;
}

.status {
  padding: 2px 10px;
  border-radius: 12px;
  font-size: 12px;
  margin-left: auto;
  font-weight: bold;
}

.status-red { background: #ffdddd; color: #c00; }
.status-yellow { background: #fff2c2; color: #c98b00; }
.status-green { background: #d9ffd9; color: #0a8f00; }

/* ---------------- è¡Œç¨‹å…§å®¹ ---------------- */
.section-title {
  font-weight: bold;
  margin: 10px 0 6px;
  font-size: 15px;
}

.item {
  padding: 6px 0;
  font-size: 14px;
}

.time-label {
  display: inline-block;
  width: 3.8em;
  font-weight: 700;
  color: #ff6f9c;
}

.mapcode {
  font-size: 12px;
  color: #888;
}

.note {
  font-size: 12px;
  color: #666;
}

a {
  color: #3b82f6;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

/* ---------------- â­ æ–°å¢ï¼šè²»ç”¨è¿½è¹¤å™¨çš„æ¨£å¼ â­ ---------------- */
#expense-tracker {
    margin: 14px;
    padding: 16px;
    border: 1px solid #ff6f9c40; /* é…åˆä¸»é¡Œè‰² */
    border-radius: 18px;
    background-color: #ffeef2;
}

/* è¼¸å…¥è¡¨å–®ä½ˆå±€ */
.input-form {
    display: flex;
    flex-wrap: wrap; /* æ›è¡Œä»¥é©æ‡‰æ‰‹æ©Ÿç•«é¢ */
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
}

.input-form input {
    flex-grow: 1; /* è¼¸å…¥æ¡†è‡ªå‹•ä½”æ»¿ç©ºé–“ */
    padding: 10px;
    border: 1px solid #ff6f9c80;
    border-radius: 4px;
    box-sizing: border-box;
}

.input-form button {
    padding: 10px 15px;
    background-color: #ff6f9c; /* é…åˆä¸»é¡Œè‰² */
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
}

/* è¡¨æ ¼æ¨£å¼ */
#expense-table {
    width: 100%;
    border-collapse: collapse;
}

#expense-table th, #expense-table td {
    border: 1px solid #ffd0e0;
    padding: 10px;
    text-align: left;
    font-size: 14px;
}

#expense-table th {
    background-color: #ffdae4;
    font-weight: bold;
}

/* çªå‡ºç¸½è¨ˆ */
#expense-table tfoot strong {
    font-size: 1.2em;
    color: #c00; /* ç´…è‰²çªå‡ºç¸½æ”¯å‡º */
}

/* ç§»é™¤æŒ‰éˆ•æ¨£å¼ */
#expense-body button {
    background-color: #f44336;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 3px;
    font-size: 12px;
}
</style>
</head>

<body>

<div class="tab-bar">
  <div class="tab-btn active" data-page="prep">è¡Œå‰æº–å‚™</div>
  <div class="tab-btn" data-page="day1">Day 1</div>
  <div class="tab-btn" data-page="day2">Day 2</div>
  <div class="tab-btn" data-page="day3">Day 3</div>
  <div class="tab-btn" data-page="day4">Day 4</div>
  <div class="tab-btn" data-page="day5">Day 5</div>
  <div class="tab-btn" data-page="expense">è²»ç”¨ç´€éŒ„</div> </div>

<div id="prep" class="page">
    </div>

<div id="day1" class="page" style="display:none;">
    </div>

<div id="day2" class="page" style="display:none;">
    </div>

<div id="day3" class="page" style="display:none;">
    </div>

<div id="day4" class="page" style="display:none;">
    </div>

<div id="day5" class="page" style="display:none;">
    </div>

<div id="expense" class="page" style="display:none;">
    <div id="expense-tracker">
        <h2>ğŸ’¸ æ”¯å‡ºè²»ç”¨ç´€éŒ„ (æ—¥åœ“)</h2>

        <div class="input-form">
            <input type="date" id="expense-date" value="2025-12-17"> <input type="text" id="expense-item" placeholder="é …ç›® (ä¾‹å¦‚: è™èˆªæ©Ÿç¥¨ã€åˆé¤)" required>
            <input type="number" id="expense-amount" placeholder="é‡‘é¡ (æ—¥åœ“)" min="1" required>
            <button onclick="addExpense()">æ–°å¢ç´€éŒ„</button>
        </div>

        <table id="expense-table">
            <thead>
                <tr>
                    <th>æ—¥æœŸ</th>
                    <th>é …ç›®</th>
                    <th>é‡‘é¡ (æ—¥åœ“)</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="expense-body">
                </tbody>
            <tfoot>
                <tr>
                    <td colspan="2"><strong>ç¸½è¨ˆ</strong></td>
                    <td><strong id="total-amount">0</strong></td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
        <p class="note" style="margin-top: 15px;">
            âš ï¸ **é‡è¦æé†’ï¼š** é‡æ–°æ•´ç†æˆ–é—œé–‰é é¢å¾Œï¼Œæ–°å¢çš„ç´€éŒ„æœƒæ¶ˆå¤±ã€‚è‹¥è¦æ°¸ä¹…ä¿å­˜ï¼Œè«‹æ‰‹å‹•å°‡è¡¨æ ¼å…§çš„ç´€éŒ„è¤‡è£½å› HTML ç¨‹å¼ç¢¼ä¸­çš„ `expense-body` å…§ã€‚
        </p>
    </div>
</div>

<script>
// ===================================
// 1. Tab åˆ‡æ›åŠŸèƒ½
// ===================================
document.querySelectorAll(".tab-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    // ç§»é™¤æ‰€æœ‰ Tab çš„ active æ¨£å¼
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    // ç‚ºè¢«é»æ“Šçš„ Tab åŠ ä¸Š active æ¨£å¼
    btn.classList.add("active");

    // éš±è—æ‰€æœ‰é é¢
    document.querySelectorAll(".page").forEach(p => p.style.display = "none");
    // é¡¯ç¤ºå°æ‡‰çš„é é¢
    document.getElementById(btn.dataset.page).style.display = "block";

    // å¦‚æœåˆ‡æ›åˆ°è²»ç”¨ç´€éŒ„é ï¼Œç¢ºä¿ç¸½è¨ˆè¢«é‡æ–°è¨ˆç®— (ç”¨æ–¼è¼‰å…¥éœæ…‹è³‡æ–™æ™‚)
    if (btn.dataset.page === 'expense') {
        calculateTotal();
    }
  });
});

// å•Ÿå‹•æ™‚é è¨­é¡¯ç¤ºè¡Œå‰æº–å‚™é é¢ (æ‚¨çš„åŸå§‹è¨­å®š)
document.addEventListener('DOMContentLoaded', () => {
    // æª¢æŸ¥æ˜¯å¦æœ‰éœæ…‹ç´€éŒ„ï¼Œå¦‚æœæœ‰ï¼Œåˆå§‹åŒ–è¨ˆç®—ç¸½é¡
    calculateTotal();
});

// ===================================
// 2. è²»ç”¨è¿½è¹¤å™¨åŠŸèƒ½
// ===================================

// å‡½å¼ A: ç”¨ä¾†æ–°å¢ä¸€ç­†æ”¯å‡ºåˆ°è¡¨æ ¼ä¸­
function addExpense() {
    // A. å–å¾—è¼¸å…¥æ¡†çš„å€¼
    const date = document.getElementById('expense-date').value;
    const item = document.getElementById('expense-item').value.trim();
    const amount = document.getElementById('expense-amount').value;

    // B. ç°¡å–®æª¢æŸ¥
    if (!date || !item || !amount || parseFloat(amount) <= 0 || isNaN(parseFloat(amount))) {
        alert("è«‹æª¢æŸ¥ï¼šæ—¥æœŸã€é …ç›®ã€é‡‘é¡å¿…é ˆå¡«å¯«ï¼Œä¸”é‡‘é¡éœ€å¤§æ–¼ 0ã€‚");
        return; 
    }

    const expenseBody = document.getElementById('expense-body');

    // C. å»ºç«‹æ–°çš„è¡¨æ ¼åˆ— <tr> (row)
    const newRow = expenseBody.insertRow();
    
    // D. å»ºç«‹æ¬„ä½ <td> (cells) ä¸¦å¡«å…¥è³‡æ–™
    
    // æ¬„ä½ 1: æ—¥æœŸ
    newRow.insertCell(0).textContent = date;
    
    // æ¬„ä½ 2: é …ç›®
    newRow.insertCell(1).textContent = item;
    
    // æ¬„ä½ 3: é‡‘é¡ (å„²å­˜æ•¸å­—ï¼Œé¡¯ç¤ºæ ¼å¼åŒ–å¾Œçš„å­—ä¸²)
    const amountCell = newRow.insertCell(2);
    // ä½¿ç”¨ toLocaleString åŠ ä¸Šåƒä½åˆ†éš”ç¬¦è™Ÿ
    amountCell.textContent = parseFloat(amount).toLocaleString('en-US'); 
    // å°‡åŸå§‹æ•¸å­—å„²å­˜ï¼Œä¾›è¨ˆç®—ä½¿ç”¨
    amountCell.setAttribute('data-amount', amount); 

    // æ¬„ä½ 4: æ“ä½œæŒ‰éˆ• (ç§»é™¤)
    const actionCell = newRow.insertCell(3);
    const deleteButton = document.createElement('button');
    deleteButton.textContent = 'ç§»é™¤';
    deleteButton.onclick = function() {
        // é»æ“Šã€Œç§»é™¤ã€æ™‚ï¼Œåˆªé™¤é€™ä¸€è¡Œï¼Œä¸¦é‡æ–°è¨ˆç®—ç¸½é¡
        newRow.remove();
        calculateTotal();
    };
    actionCell.appendChild(deleteButton);

    // E. æ¸…ç©ºè¼¸å…¥æ¬„ä½ï¼Œæº–å‚™ä¸‹æ¬¡è¼¸å…¥
    document.getElementById('expense-item').value = '';
    document.getElementById('expense-amount').value = '';
    document.getElementById('expense-item').focus(); 

    // F. å®Œæˆæ–°å¢å¾Œï¼Œç«‹å³é‡æ–°è¨ˆç®—ç¸½é¡
    calculateTotal();
}

// å‡½å¼ B: ç”¨ä¾†è¨ˆç®—æ‰€æœ‰è²»ç”¨çš„ç¸½å’Œ
function calculateTotal() {
    let total = 0;
    // é¸æ“‡ expense-body å…§ï¼Œæ‰€æœ‰è¡Œä¸­ç¬¬ 3 å€‹ <td> (é‡‘é¡æ¬„ä½)
    // æˆ‘å€‘åªè®€å–æœ‰ data-amount å±¬æ€§çš„ cell
    const allAmountCells = document.querySelectorAll('#expense-body tr td:nth-child(3)[data-amount]');
    
    allAmountCells.forEach(cell => {
        // å¾ data-amount å±¬æ€§ä¸­å–å‡ºåŸå§‹æ•¸å­—
        const amount = parseFloat(cell.getAttribute('data-amount'));
        
        if (!isNaN(amount)) {
            total += amount;
        }
    });

    // å°‡è¨ˆç®—çµæœæ›´æ–°åˆ°é é¢ä¸Šçš„ç¸½è¨ˆæ¬„ä½ï¼Œä¸¦åŠ ä¸Šåƒä½åˆ†éš”ç¬¦è™Ÿ
    document.getElementById('total-amount').textContent = total.toLocaleString('en-US');
}

</script>

</body>
</html>

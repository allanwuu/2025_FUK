<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>2025æ‡¶è±¬çš„ç¦å²¡ä¹‹æ—…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
/* --- æ ¸å¿ƒè®Šæ•¸è¨­å®š --- */
:root {
  /* æŒ‡å®šçš„ä¸»è‰²èª¿ RGB(188, 204, 196) */
  --main-color: rgb(188, 204, 196); 
  /* ç¨å¾®æ·±ä¸€é»çš„é¡è‰²ï¼Œç”¨æ–¼æ–‡å­—æˆ–æŒ‰éˆ•é¸ä¸­æ…‹ */
  --main-dark: rgb(138, 154, 146); 
  /* æ·ºè‰²èƒŒæ™¯ */
  --main-bg: rgb(245, 248, 246);
  
  /* è—è‰²ç³» (ç”¨æ–¼å¤©æ°£èˆ‡åŒ¯ç‡) */
  --blue-bg: #f0f9ff;
  --blue-border: #bae6fd;
  --blue-text: #0369a1;
  --blue-btn: #38bdf8;
}

body {
  margin: 0;
  background: #fff;
  font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
  color: #444;
  padding-bottom: 60px;
}

/* --- Tab åˆ‡æ›åˆ— --- */
.tab-bar {
  display: flex;
  position: sticky;
  top: 0;
  background: rgba(255, 255, 255, 0.95);
  padding: 10px 5px;
  border-bottom: 1px solid #eee;
  z-index: 100;
  overflow-x: auto;
  gap: 5px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}
/* éš±è—æ²è»¸ */
.tab-bar::-webkit-scrollbar { display: none; }

.tab-btn {
  flex: 0 0 auto;
  text-align: center;
  padding: 8px 16px;
  font-size: 15px;
  font-weight: 600;
  color: #888;
  background: #f5f5f5;
  border-radius: 20px; /* åœ“æ½¤è† å›Šç‹€ */
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

/* é¸ä¸­ç‹€æ…‹ï¼šè®ŠæˆæŒ‡å®šçš„æ·±ç¶ è‰² */
.tab-btn.active {
  background-color: var(--main-color);
  color: #fff; /* ç™½å­—æ¯”è¼ƒæ¸…æ¥š */
  font-weight: bold;
  box-shadow: 0 2px 6px rgba(188, 204, 196, 0.6);
}

/* --- å¤©æ°£å°å·¥å…· (ç¶­æŒè—è‰²ç³») --- */
.weather-widget {
  background: var(--blue-bg);
  border: 1px solid var(--blue-border);
  color: var(--blue-text);
  margin: 14px;
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 15px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 6px rgba(186, 230, 253, 0.3);
}
.weather-btn {
  background: #fff;
  border: 1px solid var(--blue-border);
  color: var(--blue-text);
  border-radius: 6px;
  padding: 6px 12px;
  font-size: 13px;
  cursor: pointer;
  transition: 0.2s;
}
.weather-btn:hover {
  background: #e0f2fe;
}
.weather-btn:active {
  transform: scale(0.95);
}

/* --- å¡ç‰‡é€šç”¨æ¨£å¼ --- */
.card {
  background: white;
  margin: 14px;
  padding: 18px;
  border-radius: 16px;
  border: 1px solid #eee;
  box-shadow: 0 4px 12px rgba(0,0,0,0.03);
}
.card-title {
  font-size: 17px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
  color: #333;
  border-left: 4px solid var(--main-color); /* æ¨™é¡Œå·¦å´ç¶ ç·š */
  padding-left: 8px;
}
.card-sub {
  color: #666;
  font-size: 14px;
  margin: 4px 0 10px;
}
.status {
  padding: 3px 10px;
  border-radius: 12px;
  font-size: 12px;
  margin-left: auto;
  font-weight: bold;
}
/* ç‹€æ…‹ç‡ˆè™Ÿé¡è‰²ä¸è®Šï¼Œç¶­æŒåŠŸèƒ½æ€§ */
.status-red { background: #ffebee; color: #c62828; }
.status-yellow { background: #fffde7; color: #f9a825; }
.status-green { background: #e8f5e9; color: #2e7d32; }

.section-title {
  font-weight: bold;
  margin: 12px 0 6px;
  font-size: 15px;
  color: var(--main-dark);
}
.item {
  padding: 6px 0;
  font-size: 14px;
  line-height: 1.5;
  border-bottom: 1px dashed #f0f0f0;
}
.item:last-child { border-bottom: none; }

.time-label {
  display: inline-block;
  font-weight: 700;
  color: var(--main-dark);
  margin-right: 5px;
}
.mapcode {
  font-size: 12px;
  color: #777;
  background-color: #f5f5f5;
  padding: 2px 6px;
  border-radius: 4px;
  display: inline-block;
  margin-top: 4px;
}
.note {
  font-size: 13px;
  color: #666;
  margin-top: 4px;
}
a {
  color: #558b76; /* é€£çµæ”¹ç”¨æ·±ç¶ è‰² */
  text-decoration: none;
  font-weight: 500;
}
a:hover {
  text-decoration: underline;
}

/* --- åŒ¯ç‡æ›ç®—å™¨ (ç¶­æŒè—è‰²ç³») --- */
#rate-calculator {
  background: var(--blue-bg);
  border: 1px solid var(--blue-border);
}
#rate-calculator .card-title {
  color: var(--blue-text);
  border-left-color: var(--blue-btn);
}
.rate-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
  font-size: 14px;
}
.rate-input-group {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
}
.rate-input-group input {
  padding: 8px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 16px;
  width: 100%;
}
.calc-result {
  font-size: 20px;
  font-weight: 900;
  color: var(--blue-text);
  margin-left: auto;
  white-space: nowrap;
}

/* --- è²»ç”¨è¿½è¹¤å™¨ (é…åˆä¸»è‰²èª¿) --- */
#expense-tracker {
  background-color: var(--main-bg);
  border: 1px solid var(--main-color);
}
.input-form {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 20px;
}
.input-form input,
.input-form select {
  flex-grow: 1;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
}
.input-form button {
  padding: 10px 15px;
  background-color: var(--main-color);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
}
#expense-table th {
  background-color: var(--main-color);
  color: white;
  padding: 8px;
}
#expense-table td {
  border: 1px solid #eee;
  padding: 8px;
}
.type-income { color: #2e7d32; font-weight: bold; }
.type-expense { color: #c62828; font-weight: bold; }

/* --- è¡Œç¨‹æ™‚é–“è»¸ --- */
.day-header {
  margin: 15px 14px 5px;
  padding: 10px 0;
  font-size: 18px;
  font-weight: bold;
  display: flex;
  flex-direction: column;
}
.day-date {
  font-size: 22px;
  font-weight: 900;
  color: var(--main-dark);
  margin-bottom: 5px;
}
.day-title {
  font-size: 15px;
  color: #666;
}

.timeline-container {
  margin: 0 14px;
  padding: 10px 0 30px;
  border-left: 2px solid #eee; /* å·¦å´é€£æ¥ç·š */
  margin-left: 30px; /* èª¿æ•´æ•´é«”ç¸®æ’ */
}

.timeline-item {
  position: relative;
  margin-bottom: 20px;
  padding-left: 20px; /* çµ¦æ™‚é–“æ¡†ç©ºé–“ */
}

/* æ™‚é–“æ¡†æ¨£å¼ */
.time-box {
  position: absolute;
  left: -60px; /* å¾€å·¦æ‹‰å‡º */
  top: 0;
  width: 50px;
  height: 24px;
  line-height: 24px;
  text-align: center;
  border-radius: 6px;
  background: var(--main-color); /* èƒŒæ™¯ä½¿ç”¨ä¸»è‰² */
  color: white;
  font-weight: bold;
  font-size: 13px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.content-card {
  background: white;
  padding: 12px 14px;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  border: 1px solid #f0f0f0;
}
.content-card h4 {
  margin: 0 0 5px;
  font-size: 16px;
  font-weight: bold;
  color: #333;
}
.content-card p {
  margin: 0 0 5px;
  font-size: 14px;
  color: #666;
}

/* è»Šç¨‹å°å¡ */
.drive-info {
  margin-top: 8px;
  padding: 6px 10px;
  font-size: 12px;
  color: #555;
  background: #fdfdfd;
  border-radius: 6px;
  border: 1px solid #ddd;
  display: inline-block;
  border-left: 3px solid var(--main-color);
}
</style>
</head>

<body>

<!-- åˆ†é å°è¦½åˆ— -->
<div class="tab-bar">
  <div class="tab-btn active" data-page="prep">è¡Œå‰æº–å‚™</div>
  <div class="tab-btn" data-page="day1">D1 ç¦å²¡</div>
  <div class="tab-btn" data-page="day2">D2 åˆ¥åºœ</div>
  <div class="tab-btn" data-page="day3">D3 æ¹¯å¸ƒé™¢</div>
  <div class="tab-btn" data-page="day4">D4 å¤ªå®°åºœ</div>
  <div class="tab-btn" data-page="day5">D5 å›ç¨‹</div>
  <div class="tab-btn" data-page="expense">è²»ç”¨ç´€éŒ„</div>
</div>

<!-- ================= é é¢å…§å®¹é–‹å§‹ ================= -->

<!-- è¡Œå‰æº–å‚™ -->
<div id="prep" class="page">
  <div class="card">
    <div class="card-title">ğŸ’¡ å¿…è¦æ–‡ä»¶æº–å‚™</div>
    <div class="item">â€¢ è­·ç…§</div>
    <div class="item">â€¢ å°ç£é§•ç…§/æ—¥æœ¬ç¿»è­¯é§•ç…§ </div>
    <div class="item">â€¢ ç§Ÿè»Š/Airbnb è¨‚è³¼å–® </div>
    <div class="item">â€¢ å¯¶å¯¶ç²¥ä¸­è‹±æ–‡å°ç…§æ–‡ä»¶</div>
  </div>

  <div class="card">
    <div class="card-title">ğŸ“± è³¼è²· eSIM ç¶²å¡ <span class="status status-red">å°šæœªè¨‚</span></div>
    <div class="card-sub">éœ€æ±‚ï¼šeSIM 5äººä»½ (å³å®¶x2 è”¡å®¶x2 ç‹x1) </div>
    <div class="item">ğŸ’¡ å»ºè­°å‡ºç™¼å‰ä¸€å¤©æƒæ QR Code è¨­å®šã€‚</div>
  </div>

  <div class="card">
    <div class="card-title">ğŸ›‚ Visit Japan Web <span class="status status-red">å°šæœªå¡«å¯«</span></div>
    <div class="item">è«‹æ–¼å‡ºç™¼å‰å®Œæˆå…¥å¢ƒå¯©æŸ¥èˆ‡æµ·é—œç”³å ±ã€‚</div>
    <div class="item">ğŸ”— <a href="https://vjw-lp.digital.go.jp" target="_blank">å®˜æ–¹ç¶²ç«™ï¼ˆä¸­æ–‡ï¼‰</a></div>
  </div>

  <div class="card">
    <div class="card-title">âœˆ èˆªç­è³‡è¨Š <span class="status status-green">å·²ç¢ºèª</span></div>
    
    <div class="section-title">å»ç¨‹ã€€æ¡ƒåœ’ â†’ ç¦å²¡ï¼ˆè™èˆª IT240ï¼‰</div>
    <div class="item"><span class="time-label">06:45</span> æ¡ƒåœ’åœ‹éš›æ©Ÿå ´ T1 å‡ºç™¼</div>
    <div class="item"><span class="time-label">10:00</span> æŠµé” ç¦å²¡åœ‹éš›æ©Ÿå ´</div>
    
    <div class="section-title" style="margin-top:14px;">å›ç¨‹ã€€ç¦å²¡ â†’ æ¡ƒåœ’ï¼ˆè¯èˆª CI117ï¼‰</div>
    <div class="item"><span class="time-label">20:35</span> ç¦å²¡åœ‹éš›æ©Ÿå ´ T1 å‡ºç™¼</div>
    <div class="item"><span class="time-label">22:20</span> æŠµé” æ¡ƒåœ’åœ‹éš›æ©Ÿå ´ T2</div>
  </div>
</div>

<!-- Day 1 -->
<div id="day1" class="page" style="display:none;">
  <div class="day-header">
    <span class="day-date">12/17 (ä¸‰) D1</span>
    <span class="day-title">ğŸš— æ¡ƒåœ’ â†’ ç¦å²¡ â†’ åˆ¥åºœ</span>
  </div>

  <!-- D1 å¤©æ°£ï¼šåˆ¥åºœ -->
  <div class="weather-widget" data-lat="33.279" data-lon="131.500">
    <span>ğŸŒ¤ï¸ åˆ¥åºœå¤©æ°£ï¼š<span class="w-temp">--</span>Â°C <span class="w-desc"></span></span>
    <button class="weather-btn" onclick="getWeather(this)">æ›´æ–°</button>
  </div>

  <div class="timeline-container">
    
    <div class="timeline-item">
      <div class="time-box">10:00</div>
      <div class="content-card">
        <h4>æŠµé” ç¦å²¡åœ‹éš›æ©Ÿå ´</h4>
        <div class="note">â­ åˆ°åœ‹éš›èˆªå»ˆ1æ¨“çš„ç§Ÿè»Šæ«ƒæª¯å…ˆå ±åˆ°ï¼Œæ­æ¥é§è»Š</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">11:30</div>
      <div class="content-card">
        <h4>Budget ç§Ÿè»Š ç¦å²¡ç©ºæ¸¯åº—</h4>
        <p><a href="https://www.google.com/maps/search/?api=1&query=Budget+Rent+a+Car+Fukuoka+Airport" target="_blank">åœ°åœ–é€£çµ</a></p>
        <div class="mapcode">MAPCODEï¼š13 354 156*17</div>
        <div class="drive-info">
          ğŸš™ å¾€ LaLaportï¼šç´„ 15â€“20 åˆ†é˜
        </div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">12:37</div>
      <div class="content-card">
        <h4>LaLaport ç¦å²¡</h4>
        <p><a href="https://www.google.com/maps/search/?api=1&query=LaLaport+Fukuoka" target="_blank">åœ°åœ–é€£çµ</a></p>
        <div class="mapcode">MAPCODEï¼š13 233 182*28</div>
        <div class="note">â­ é è¨ˆåœç•™2å°æ™‚ï¼Œæœ€æ™š3é»é›¢é–‹</div>
        <div class="drive-info">
          ğŸš™ å¾€ åˆ¥åºœï¼šç´„ 1.5â€“2 å°æ™‚ (é«˜é€Ÿ)
        </div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">17:26</div>
      <div class="content-card">
        <h4>Check-inï¼šåˆ¥é‚¸ å®‰</h4>
        <p><a href="https://www.google.com/maps/search/?api=1&query=%E5%88%A5%E9%82%B8+%E5%AE%89" target="_blank">åœ°åœ–é€£çµ</a></p>
        <div class="mapcode">MAPCODEï¼š46 404 667*36</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">19:00</div>
      <div class="content-card">
        <h4>æ™šé¤ğŸ¥£ æ±æ´‹è»’ æˆ– èƒ¡æœˆå†·éºµ</h4>
        <div class="note">éƒ½åœ¨é™„è¿‘ï¼Œçœ‹å“ªå®¶æ’éšŠäººå°‘</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">20:00</div>
      <div class="content-card">
        <h4>åˆ¥åºœå¡”ï¼ˆBeppu Towerï¼‰</h4>
        <div class="mapcode">MAPCODEï¼š46 406 390*55</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">21:30</div>
      <div class="content-card">
        <h4>Marushoku è¶…å¸‚</h4>
        <div class="note">â­ è²·å’Œç‰›è·Ÿæ³¡éºµ</div>
      </div>
    </div>

  </div>
</div>

<!-- Day 2 -->
<div id="day2" class="page" style="display:none;">
  <div class="day-header">
    <span class="day-date">12/18 (å››) D2</span>
    <span class="day-title">ğŸ¦ ä¹å·è‡ªç„¶å‹•ç‰©åœ’ & åˆ¥åºœç¾é£Ÿ</span>
  </div>

  <!-- D2 å¤©æ°£ï¼šåˆ¥åºœ -->
  <div class="weather-widget" data-lat="33.279" data-lon="131.500">
    <span>ğŸŒ¤ï¸ åˆ¥åºœå¤©æ°£ï¼š<span class="w-temp">--</span>Â°C <span class="w-desc"></span></span>
    <button class="weather-btn" onclick="getWeather(this)">æ›´æ–°</button>
  </div>

  <div class="timeline-container">
    
    <div class="timeline-item">
      <div class="time-box">08:30</div>
      <div class="content-card">
        <h4>å‡ºç™¼ï¼šåˆ¥é‚¸ å®‰</h4>
        <div class="drive-info">ğŸš™ å¾€ å‹•ç‰©åœ’ï¼šç´„ 25â€“35 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">09:00</div>
      <div class="content-card">
        <h4>ä¹å·è‡ªç„¶å‹•ç‰©åœ’</h4>
        <p><a href="https://www.google.com/maps/search/?api=1&query=%E4%B9%9D%E5%B7%9E%E8%87%AA%E7%84%B6%E5%8B%95%E7%89%A9%E5%9C%92" target="_blank">åœ°åœ–é€£çµ</a></p>
        <div class="mapcode">MAPCODEï¼š46 664 168*42</div>
        <div class="note">ğŸ« é–€ç¥¨ Â¥17,100 (6å¤§1å°) / å·´å£« Â¥10,500</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">14:30</div>
      <div class="content-card">
        <h4>ğŸ® åœ°ç„è’¸å¸ƒä¸ å²¡æœ¬å±‹</h4>
        <div class="mapcode">MAPCODEï¼š46 519 680*75</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">15:30</div>
      <div class="content-card">
        <h4>åœ°ç„è’¸å·¥æˆ¿ éµè¼ª</h4>
        <div class="note">é«”é©—ç”¨æº«æ³‰è’¸æ°£è’¸ç…®é£Ÿç‰©</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">17:30</div>
      <div class="content-card">
        <h4>æ™šé¤ğŸ¥£ åˆ¥åºœç”˜å‘³èŒ¶å±‹</h4>
        <div class="note">â­ EPARK å·²é ç´„</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">19:30</div>
      <div class="content-card">
        <h4>å”å‰è¨¶å¾· åˆ¥åºœåº—</h4>
        <div class="mapcode">MAPCODEï¼š46 405 564*44</div>
      </div>
    </div>

  </div>
</div>

<!-- Day 3 -->
<div id="day3" class="page" style="display:none;">
  <div class="day-header">
    <span class="day-date">12/19 (äº”) D3</span>
    <span class="day-title">ğŸ æ¹¯å¸ƒé™¢æ•£ç­– â†’ å›åˆ°ç¦å²¡</span>
  </div>

  <!-- D3 å¤©æ°£ï¼šæ¹¯å¸ƒé™¢ -->
  <div class="weather-widget" data-lat="33.260" data-lon="131.350">
    <span>ğŸŒ¤ï¸ æ¹¯å¸ƒé™¢å¤©æ°£ï¼š<span class="w-temp">--</span>Â°C <span class="w-desc"></span></span>
    <button class="weather-btn" onclick="getWeather(this)">æ›´æ–°</button>
  </div>

  <div class="timeline-container">
    
    <div class="timeline-item">
      <div class="time-box">09:00</div>
      <div class="content-card">
        <h4>å‡ºç™¼ï¼šåˆ¥é‚¸ å®‰</h4>
        <div class="drive-info">ğŸš™ å¾€ æ¹¯å¸ƒé™¢ï¼šç´„ 25â€“30 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">09:36</div>
      <div class="content-card">
        <h4>Times åœè»Šå ´ â€“ æ¹¯å¸ƒé™¢é‡‘é±—æ¹–</h4>
        <div class="mapcode">MAPCODEï¼š269 359 614*42</div>
        <div class="note">â­ è»Šåœé€™ï¼Œèµ°è·¯é€›å•†åº—è¡—</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">10:40</div>
      <div class="content-card">
        <h4>å¤©ç¥–ç¥ç¤¾ & é‡‘é±—æ¹–</h4>
        <div class="note">æ‹ç…§é»</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">13:21</div>
      <div class="content-card">
        <h4>B-SPEAK è›‹ç³•å·</h4>
        <div class="note">å¿…åƒç”œé»</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">13:32</div>
      <div class="content-card">
        <h4>æ¹¯ä¹‹åªè¡—é“</h4>
        <div class="drive-info">
          ğŸš™ å¾€ ç¦å²¡æ°‘å®¿ï¼šé«˜é€Ÿç´„ 1.5 å°æ™‚
        </div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">16:00</div>
      <div class="content-card">
        <h4>Check-inï¼šSOTEL Fukuoka Airport</h4>
        <p><a href="https://www.google.com/maps/search/?api=1&query=SOTEL+Fukuoka+Airport+No.7" target="_blank">åœ°åœ–é€£çµ</a></p>
        <div class="mapcode">MAPCODEï¼š13 383 288*84</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">18:00</div>
      <div class="content-card">
        <h4>ç„¼è‚‰ ã«ãç”° å¤©ç¥/èµ¤å‚ NIKUDEN</h4>
        <div class="note">â€¼ï¸ å·²é ç´„ï¼Œå¾…ç¢ºèª</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">20:30</div>
      <div class="content-card">
        <h4>å¤©ç¥ä¸­å¤®å…¬åœ’ (è–èª•å¸‚é›†)</h4>
      </div>
    </div>

  </div>
</div>

<!-- Day 4 -->
<div id="day4" class="page" style="display:none;">
  <div class="day-header">
    <span class="day-date">12/20 (å…­) D4</span>
    <span class="day-title">â›© å¤ªå®°åºœï¼‹Outletï¼‹è–èª•å¸‚é›†</span>
  </div>

  <!-- D4 å¤©æ°£ï¼šå¤ªå®°åºœ/ç¦å²¡ -->
  <div class="weather-widget" data-lat="33.515" data-lon="130.530">
    <span>ğŸŒ¤ï¸ å¤ªå®°åºœå¤©æ°£ï¼š<span class="w-temp">--</span>Â°C <span class="w-desc"></span></span>
    <button class="weather-btn" onclick="getWeather(this)">æ›´æ–°</button>
  </div>

  <div class="timeline-container">
    
    <div class="timeline-item">
      <div class="time-box">09:00</div>
      <div class="content-card">
        <h4>å‡ºç™¼ï¼šSOTEL</h4>
        <div class="drive-info">ğŸš™ å¾€ å¤ªå®°åºœï¼šç´„ 20â€“30 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">09:30</div>
      <div class="content-card">
        <h4>å¤ªå®°åºœå¤©æ»¿å®®</h4>
        <div class="mapcode">MAPCODEï¼š55 364 073*24</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">11:30</div>
      <div class="content-card">
        <h4>é³¥æ – Premium Outlets</h4>
        <div class="mapcode">MAPCODEï¼š37 856 380*68</div>
        <div class="drive-info">ğŸš™ å¾€ ç¦å²¡å¤§åï¼šç´„ 30â€“40 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">18:00</div>
      <div class="content-card">
        <h4>è–èª•å¸‚é›†ï¼ˆç¦å²¡å¤§åèŠ±åœ’åŸå¸‚ï¼‰</h4>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">20:30</div>
      <div class="content-card">
        <h4>TRIALsmart KASUYA (24Hè¶…å¸‚)</h4>
      </div>
    </div>

  </div>
</div>

<!-- Day 5 -->
<div id="day5" class="page" style="display:none;">
  <div class="day-header">
    <span class="day-date">12/21 (æ—¥) D5</span>
    <span class="day-title">ğŸ¡ ç¦å²¡å¸‚å€ï¼‹é‚„è»Šè¿”å®¶</span>
  </div>

  <!-- D5 å¤©æ°£ï¼šç¦å²¡ -->
  <div class="weather-widget" data-lat="33.590" data-lon="130.401">
    <span>ğŸŒ¤ï¸ ç¦å²¡å¤©æ°£ï¼š<span class="w-temp">--</span>Â°C <span class="w-desc"></span></span>
    <button class="weather-btn" onclick="getWeather(this)">æ›´æ–°</button>
  </div>

  <div class="timeline-container">
    
    <div class="timeline-item">
      <div class="time-box">10:00</div>
      <div class="content-card">
        <h4>å‡ºç™¼ï¼šSOTEL</h4>
        <div class="drive-info">ğŸš™ å¾€ æ«›ç”°ç¥ç¤¾ï¼šç´„ 20 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">10:30</div>
      <div class="content-card">
        <h4>æ«›ç”°ç¥ç¤¾</h4>
        <div class="mapcode">MAPCODEï¼š13 319 706*83</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">11:38</div>
      <div class="content-card">
        <h4>ä¸€è˜­æ‹‰éºµ æœ¬ç¤¾ç¸½æœ¬åº—</h4>
        <div class="mapcode">MAPCODEï¼š13 318 895*82</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">13:13</div>
      <div class="content-card">
        <h4>è—ç“¶å’–å•¡ ç¦å²¡å¤©ç¥åº—</h4>
        <div class="drive-info">ğŸš™ å¾€ Budgetï¼šç´„ 25â€“30 åˆ†é˜</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">16:00</div>
      <div class="content-card">
        <h4>Budget é‚„è»Š</h4>
        <div class="note">â­ è¨˜å¾—å…ˆåŠ æ»¿æ²¹å†é‚„è»Š</div>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">17:00</div>
      <div class="content-card">
        <h4>æŠµé” ç¦å²¡åœ‹éš›æ©Ÿå ´ T1</h4>
      </div>
    </div>

    <div class="timeline-item">
      <div class="time-box">20:35</div>
      <div class="content-card">
        <h4>è¯èˆª CI117 èµ·é£› âœˆï¸</h4>
      </div>
    </div>

  </div>
</div>

<!-- è²»ç”¨ç´€éŒ„ -->
<div id="expense" class="page" style="display:none;">
  
  <!-- åŒ¯ç‡è¨ˆç®—å™¨ (è—è‰²ç³») -->
  <div class="card" id="rate-calculator">
    <div class="card-title">ğŸ’³ åŒ¯ç‡å°å¹«æ‰‹</div>
    
    <div class="rate-row">
      <label for="exchange-rate">âš™ï¸ è¨­å®šåŒ¯ç‡ï¼š</label>
      <input type="number" id="exchange-rate" step="0.0001" value="0.2003" style="width: 80px;">
    </div>
    
    <hr style="border: 0; border-top: 1px dashed #cce4ff; margin: 10px 0;">
    
    <div class="rate-row">
      <div class="rate-input-group">
        <span>ğŸ‡¯ğŸ‡µ</span>
        <input type="number" id="calc-jpy" placeholder="æ—¥å¹£é‡‘é¡">
      </div>
      <div style="font-weight: bold; color: #666; padding: 0 5px;">=</div>
      <div class="calc-result">
        ğŸ‡¹ğŸ‡¼ $<span id="calc-twd">0</span>
      </div>
    </div>
  </div>

  <!-- è¨˜å¸³æœ¬ (ç¶ è‰²ç³») -->
  <div class="card" id="expense-tracker">
    <div class="card-title">ğŸ’¸ æ—…éŠæ”¶æ”¯ç´€éŒ„ (æ—¥åœ“)</div>
    <div class="input-form">
      <input type="date" id="expense-date" value="2025-12-17">
      <select id="expense-type">
        <option value="expense">æ”¯å‡º (Expense)</option>
        <option value="income">æ”¶å…¥ (Income)</option>
      </select>
      <input type="text" id="expense-item" placeholder="é …ç›®" required>
      <input type="number" id="expense-amount" placeholder="é‡‘é¡ (æ—¥åœ“)" min="1" required>
      <input type="text" id="expense-note" placeholder="å‚™è¨»">
      <input type="hidden" id="data-editing-id" value="">
      <div class="input-actions" style="width:100%; margin-top:5px;">
        <button id="add-expense-btn" onclick="addOrUpdateExpense()">æ–°å¢ç´€éŒ„</button>
        <button id="save-expense-btn" onclick="addOrUpdateExpense()" style="display:none; background:#1e88e5;">å„²å­˜ä¿®æ”¹</button>
      </div>
    </div>
    <table id="expense-table" style="width:100%; border-collapse: collapse; font-size:14px;">
      <thead>
        <tr>
          <th>æ—¥æœŸ</th>
          <th>é …ç›®</th>
          <th>é‡‘é¡</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody id="expense-body"></tbody>
      <tfoot>
        <tr id="balance-row">
          <td colspan="2" style="text-align:right; font-weight:bold; padding:10px;">ç¸½é¤˜é¡ï¼š</td>
          <td colspan="2" id="total-balance" style="font-weight:bold; font-size:1.2em;">0</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

<script>
// --- 1. åˆ†é åˆ‡æ› ---
document.querySelectorAll(".tab-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    document.querySelectorAll(".tab-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll(".page").forEach(p => p.style.display = "none");
    document.getElementById(btn.dataset.page).style.display = "block";
    window.scrollTo(0, 0);
  });
});

// --- 2. å¤©æ°£åŠŸèƒ½ (Open-Meteo API) ---
const weatherCodeMap = {
  0: "æ™´æœ—", 1: "æ™´æ™‚å¤šé›²", 2: "å¤šé›²", 3: "é™°å¤©",
  45: "èµ·éœ§", 51: "æ¯›æ¯›é›¨", 61: "ä¸‹é›¨", 63: "å¤§é›¨", 
  80: "é™£é›¨", 95: "é›·é›¨"
};

async function getWeather(btn) {
  const widget = btn.closest('.weather-widget');
  const lat = widget.dataset.lat;
  const lon = widget.dataset.lon;
  const tempSpan = widget.querySelector('.w-temp');
  const descSpan = widget.querySelector('.w-desc');
  
  btn.textContent = "è¼‰å…¥ä¸­...";
  btn.disabled = true;

  try {
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&timezone=Asia%2FTokyo`;
    const res = await fetch(url);
    const data = await res.json();
    
    if (data.current_weather) {
      const t = data.current_weather.temperature;
      const code = data.current_weather.weathercode;
      const desc = weatherCodeMap[code] || "å¤šé›²"; // é è¨­
      
      tempSpan.textContent = t;
      descSpan.textContent = desc;
      btn.textContent = "å·²æ›´æ–°";
    }
  } catch (e) {
    console.error(e);
    btn.textContent = "å¤±æ•—";
  } finally {
    setTimeout(() => { 
      btn.disabled = false; 
      if(btn.textContent === "å·²æ›´æ–°") btn.textContent = "æ›´æ–°";
    }, 2000);
  }
}

// --- 3. åŒ¯ç‡æ›ç®— ---
const rateInput = document.getElementById('exchange-rate');
const jpyInput = document.getElementById('calc-jpy');
const twdOutput = document.getElementById('calc-twd');

function calcRate() {
  const r = parseFloat(rateInput.value) || 0;
  const j = parseFloat(jpyInput.value) || 0;
  twdOutput.textContent = Math.round(j * r).toLocaleString('en-US');
  localStorage.setItem('fukuoka_rate', r);
}
rateInput.addEventListener('input', calcRate);
jpyInput.addEventListener('input', calcRate);

// --- 4. è¨˜å¸³åŠŸèƒ½ ---
let expenses = JSON.parse(localStorage.getItem('fukuoka_expenses')) || [];

function saveRender() {
  localStorage.setItem('fukuoka_expenses', JSON.stringify(expenses));
  const tbody = document.getElementById('expense-body');
  tbody.innerHTML = '';
  let total = 0;
  
  // æŒ‰æ—¥æœŸæ’åº (æ–°åˆ°èˆŠ)
  expenses.sort((a,b) => new Date(b.date) - new Date(a.date));

  expenses.forEach(exp => {
    const isInc = exp.type === 'income';
    const val = parseFloat(exp.amount);
    if(isInc) total += val; else total -= val;
    
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${exp.date.substring(5)}</td>
      <td>
        <div style="font-weight:bold">${exp.item}</div>
        <div style="font-size:12px;color:#888">${exp.note || ''}</div>
      </td>
      <td class="${isInc ? 'type-income' : 'type-expense'}">
        ${isInc?'+':'-'}${val.toLocaleString()}
      </td>
      <td>
        <button onclick="delExp('${exp.id}')" style="background:#ef5350;color:white;border:none;padding:4px 8px;border-radius:4px;">Ã—</button>
      </td>
    `;
    tbody.appendChild(tr);
  });
  
  const balEl = document.getElementById('total-balance');
  balEl.textContent = total.toLocaleString();
  balEl.style.color = total >= 0 ? '#2e7d32' : '#c62828';
}

function addOrUpdateExpense() {
  const date = document.getElementById('expense-date').value;
  const type = document.getElementById('expense-type').value;
  const item = document.getElementById('expense-item').value;
  const amount = document.getElementById('expense-amount').value;
  const note = document.getElementById('expense-note').value;
  
  if(!item || !amount) return alert("è«‹è¼¸å…¥é …ç›®èˆ‡é‡‘é¡");

  expenses.push({
    id: Date.now().toString(),
    date, type, item, amount, note
  });

  document.getElementById('expense-item').value = '';
  document.getElementById('expense-amount').value = '';
  document.getElementById('expense-note').value = '';
  saveRender();
}

function delExp(id) {
  if(confirm("ç¢ºå®šåˆªé™¤?")) {
    expenses = expenses.filter(e => e.id !== id);
    saveRender();
  }
}

// åˆå§‹åŒ–
window.onload = function() {
  const savedRate = localStorage.getItem('fukuoka_rate');
  if(savedRate) rateInput.value = savedRate;
  saveRender();
}
</script>
</body>
</html>


